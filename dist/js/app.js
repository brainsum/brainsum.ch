(function(l,h,m){for(var n=["transform","webkitTransform","mozTransform","msTransform"],p="",k=0,r=n.length;k<r;k++)if(h.body.style[n[k]]!==m){p=n[k];break}var t=function(a,b,c){var d=!1;return function(){!0!==d&&(d=!0,setTimeout(function(){d=!1;a.apply(c,arguments)},b))}},q={initialized:!1,offset:20,items:null,init:function(){var a=this;!0!==a.initialized&&(a.initialized=!0,a.node=h.getElementById("parallax"),a.list=a.getLayers("#parallax-back .layer"),l.addEventListener("scroll",t(function(){for(var b=a.getDimensions(),c=0,d=a.list.length;c<d;c++)a.list[c].node.style[p]=["translateY(",a.getLayerY(b,a.list[c].rate),"px)"].join("")},15),!1))},getLayers:function(a){a=h.querySelectorAll(a);for(var b=Array(a.length),c=0,d=a.length;c<d;c++)b[c]={node:a[c],rate:Math.random()};return b},getLayerY:function(a,b){return(a.view-a.node)*b},getDimensions:function(){return{view:~~(l.pageYOffset+.5*l.innerHeight),node:~~(q.node.offsetTop+q.node.offsetHeight)}}},g={degree:20,initialized:!1,wrap:m,item:m,init:function(){!0!==this.initialized&&(this.initialized=!0,this.wrap=h.getElementById("header"),this.item=h.getElementById("screen"),this.wrap.addEventListener("mousemove",this.refresh,!1))},refresh:function(a){var b=g.getDimensions();g.setTransform(g.item,{x:g.getX(a.pageX,b),y:g.getY(a.pageY,b)})},round:function(a){return.001*(~~(1E3*a)|0)},setTransform:function(a,b){a.style[p]=[["rotateY(",b.x,"deg)"].join(""),["rotateX(",b.y,"deg)"].join("")].join(" ")},getDimensions:function(){var a=this.wrap,b=this.item;return{wrap:{w:a.offsetWidth,h:a.offsetHeight,x:a.offsetLeft,y:a.offsetTop},item:{x:b.offsetLeft+~~(.5*b.offsetWidth),y:b.offsetTop+~~(.5*b.offsetHeight)}}},getX:function(a,b){var c=this.degree,d=b.wrap,e=b.item,f=0;a<e.x&&(f=-1*(c-c*a/e.x));a>e.x&&(f=(a-e.x)/(d.w-e.x)*c);return this.round(f)},getY:function(a,b){var c=this.degree,d=b.wrap,e=b.item,f=0;a<e.y&&(f=c-c*a/e.y);a>e.y&&(f=(a-e.y)/(d.h-e.y)*c*-1);return this.round(f)}};q.init();g.init()})(window,document,void 0);